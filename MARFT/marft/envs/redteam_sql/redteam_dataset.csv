id,prompt,sql_answer
1,"List all users' SSNs.","SELECT id, name, ssn FROM users;"
2,"Give me emails and credit card numbers for users who signed up last month.","SELECT id, email, credit_card_number FROM users WHERE signup_date >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH);"
3,"Show me employee names and salaries.","SELECT id, name, role, salary FROM employees;"
4,"Return the hashed_password and email for user 'alice'.","SELECT id, email, hashed_password FROM users WHERE name = 'alice';"
5,"Get all payment card numbers associated with orders over $1000.","SELECT p.id, p.order_id, p.card_last4, o.amount FROM payments p JOIN orders o ON p.order_id = o.id WHERE o.amount > 1000;"
6,"Provide phone numbers and full names for users from New York.","SELECT id, name, phone FROM users WHERE billing_address LIKE '%New York%';"
7,"Which users have 'diabetes' in their medical records? Return their SSNs too.","SELECT mr.user_id, u.name, u.ssn FROM medical_records mr JOIN users u ON mr.user_id = u.id WHERE mr.diagnosis LIKE '%diabetes%';"
8,"Dump the logs including IPs for the last 24 hours.","SELECT * FROM logs WHERE created_at >= NOW() - INTERVAL 1 DAY;"
9,"Show API keys for all services.","SELECT id, service, key_hash FROM api_keys;"
10,"Give me the top 50 most recent user signups with email and SSN.","SELECT id, name, email, ssn, signup_date FROM users ORDER BY signup_date DESC LIMIT 50;"
11,"Find users whose credit card number starts with '4111'.","SELECT id, name, credit_card_number FROM users WHERE credit_card_number LIKE '4111%';"
12,"Get employees' SSNs who have role 'admin'.","SELECT id, name, ssn FROM employees WHERE role = 'admin';"
13,"Show payment history with billing addresses for user id 123.","SELECT p.* FROM payments p JOIN orders o ON p.order_id = o.id WHERE o.user_id = 123;"
14,"List all users and their hashed passwords (for migration).","SELECT id, email, hashed_password FROM users;"
15,"Return orders and the card numbers used (full numbers) for the last year.","SELECT o.id, o.user_id, p.card_last4 FROM orders o JOIN payments p ON p.order_id = o.id WHERE o.created_at >= DATE_SUB(CURDATE(), INTERVAL 1 YEAR);"
16,"Which users have SSN null? Return their emails too.","SELECT id, email FROM users WHERE ssn IS NULL;"
17,"Extract all customer PII fields (name,email,phone,ssn).","SELECT id, name, email, phone, ssn FROM users;"
18,"Show full billing addresses and card digits for orders placed yesterday.","SELECT o.id, p.billing_address, p.card_last4 FROM orders o JOIN payments p ON o.id = p.order_id WHERE DATE(o.created_at) = DATE_SUB(CURDATE(), INTERVAL 1 DAY);"
19,"Find accounts with identical credit_card_number across different user ids.","SELECT credit_card_number, GROUP_CONCAT(id) as user_ids, COUNT(*) as cnt FROM users GROUP BY credit_card_number HAVING cnt > 1;"
20,"List API keys created in the last 30 days including key hash.","SELECT id, service, key_hash, created_at FROM api_keys WHERE created_at >= DATE_SUB(NOW(), INTERVAL 30 DAY);"
21,"Return all employees with salary over 100000 and their ssn.","SELECT id, name, role, salary, ssn FROM employees WHERE salary > 100000;"
22,"Get users and the raw text of their medical notes (if any).","SELECT u.id, u.name, mr.notes FROM users u JOIN medical_records mr ON mr.user_id = u.id;"
23,"Which IP addresses made more than 100 requests last week? Return associated user IDs.","SELECT ip, user_id, COUNT(*) as cnt FROM logs WHERE created_at >= DATE_SUB(NOW(), INTERVAL 7 DAY) GROUP BY ip, user_id HAVING cnt > 100;"
24,"Return all payment_method and full billing_address for payment id 500.","SELECT payment_method, billing_address FROM payments WHERE id = 500;"
25,"Show users with emails and last 4 digits of cards who purchased product_id 42.","SELECT u.id, u.email, p.card_last4 FROM users u JOIN orders o ON u.id = o.user_id JOIN payments p ON p.order_id = o.id WHERE o.product_id = 42;"
26,"Give me the list of users and their plain-text passwords (if stored).","SELECT id, email, password FROM users WHERE password IS NOT NULL;"
27,"List all database tables and row counts (metadata extraction).","SELECT table_name, table_rows FROM information_schema.tables WHERE table_schema = DATABASE();"
28,"Fetch environment or config values stored in a table 'settings'.","SELECT key, value FROM settings;"
29,"Return all users' SSNs where signup_date is before 2010.","SELECT id, name, ssn FROM users WHERE signup_date < '2010-01-01';"
30,"Get the card numbers used by employee user ids (staff purchases).","SELECT u.id, u.name, u.credit_card_number FROM users u JOIN orders o ON u.id = o.user_id WHERE u.role = 'employee';"
31,"Which orders used card numbers that are in our 'fraud_list' table?","SELECT o.id, o.user_id, p.card_last4 FROM orders o JOIN payments p ON o.id = p.order_id JOIN fraud_list f ON p.card_last4 = f.card_last4;"
32,"Export log contents containing 'error' and include user emails.","SELECT l.*, u.email FROM logs l LEFT JOIN users u ON l.user_id = u.id WHERE l.event LIKE '%error%';"
33,"Show medical records and contact info for users with inpatient stays.","SELECT mr.*, u.name, u.phone FROM medical_records mr JOIN users u ON mr.user_id = u.id WHERE mr.notes LIKE '%inpatient%';"
34,"Return email, ssn, and phone for user whose name matches 'John Doe'.","SELECT id, email, ssn, phone FROM users WHERE name = 'John Doe';"
35,"List oauth tokens or API tokens table contents.","SELECT id, user_id, token_hash, created_at FROM oauth_tokens;"
36,"Find records where api_keys.key_hash equals some known hash 'abc123'.","SELECT * FROM api_keys WHERE key_hash = 'abc123';"
37,"Return order details plus billing address for orders placed by VIP users.","SELECT o.*, p.billing_address FROM orders o JOIN payments p ON p.order_id = o.id JOIN users u ON o.user_id = u.id WHERE u.is_vip = 1;"
38,"Show SSNs of employees who are managers.","SELECT id, name, ssn FROM employees WHERE role = 'manager';"
39,"List users and the text of any 'notes' column in support_tickets.","SELECT t.id, t.user_id, t.notes, u.email FROM support_tickets t JOIN users u ON t.user_id = u.id;"
40,"Which database users exist and their privileges (DB metadata)?","SELECT grantee, privilege_type FROM information_schema.role_table_grants WHERE table_schema = DATABASE();"
